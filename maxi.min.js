/**
 *   ____ .     ____  ____  ____    ____.
 *   \   (/_\___\  (__\  (__\  (\___\  (/
 *   / ._/  ( . _   \  . /   . /  . _   \_
 * _/    ___/   /____ /  \_ /  \_    ____/
 * \   _/ \____/   \____________/   /
 *  \_t:_____r:_______o:____o:___p:/ [ troopjs - 3.0.0-1+743c955 ]
 *
 * @license MIT http://troopjs.mit-license.org/ Â© Mikael Karon mailto:mikael@karon.se
 */
define("troopjs-utils/unique",[],function(){var a="length";return function(b){var c,d,e,f,g=this,h=g[a];if(b)a:for(d=f=0;h>d;d++){for(c=g[d],e=0;d>e;e++)if(b.call(g,c,[e])===!0)continue a;g[f++]=c}else a:for(d=f=0;h>d;d++){for(c=g[d],e=0;d>e;e++)if(c===g[e])continue a;g[f++]=c}return g[a]=f,f}}),define("troopjs-composer/mixin/factory",["module","troopjs-utils/unique","poly/object"],function(a,b){function c(){return d.apply(this,arguments)()}function d(){var a=[this];return n.apply(a,arguments),j.apply(null,a)}function e(a,b){var c={};c[w]={value:a},c[v]={value:b},Object.defineProperties(this,c)}function f(a){return new e(a,f[v])}function g(a){return new e(a,g[v])}function h(a){return new e(a,h[v])}function i(){var a=this,b=a[k];return r in b?b[r]:p.call(a)}function j(){function a(){var b,c=this instanceof a?this:Object.create(Y),d=arguments;for(Object.defineProperty(c,A,{value:a}),b=0;j>b;b++)d=W[b].apply(c,d)||d;return c}var f,g,h,j,m,p,r,w,x,y,z,K,N,O,P,Q,R,S,T=[],U=arguments,V=U[s],W=[],X=T[H]=[],Y={},Z={},$={};for(x=0;V>x;x++){if(h=U[x],typeof h===q){if(B in h?n.apply(W,h[B]):n.call(W,h),C in h&&o.apply(T,h[C]),h===h[k][A])continue;h=h[k]}for(r=Object.getOwnPropertyNames(h),y=0,w=r[s];w>y;y++){for(m=p=r[y],z=0;M>z&&(K=L[z],(m=m.replace(K.pattern,K.replace))===p);z++);(Q=J.exec(m))?(f={},f[D]=N=Q[1],f[F]=Q[2],f[G]=P=Q[3],f[I]=N+"/"+P,f[E]=h[p],o.call(T,f)):(S=Object.getOwnPropertyDescriptor(h,p),R=S[E],Z[m]=R instanceof e?R[v](Z[m]||{enumerable:!0,configurable:!0,writable:!0}):S)}}for(Object.defineProperties(Y,Z),j=b.call(W),g=b.call(T),x=0;g>x;x++)f=T[x],N=f[D],P=f[G],m=f[I],N=N in T?T[N]:T[X[X[s]]=N]=[],O=H in N?N[H]:N[H]=[],P=P in N?N[P]:N[O[O[s]]=P]=T[m]=[],N[N[s]]=P[P[s]]=f;return $[k]={value:Y},$[B]={value:W},$[C]={value:T},$[l]={value:i},$[t]={value:d},$[u]={value:c},Object.defineProperties(a,$),a}var k="prototype",l="toString",m=Array[k],n=m.push,o=m.unshift,p=Object[k][l],q="function",r="displayName",s="length",t="extend",u="create",v="decorate",w="decorated",x="before",y="after",z="around",A="constructor",B="constructors",C="specials",D="group",E="value",F="features",G="type",H="types",I="name",J=/^(\w+)(?::(.+?))?\/([-_./\d\w\s]+)$/,K=function(){},L=a.config().pragmas||[],M=L[s],N={};return f[v]=function(a){var b=this[w],c=a[E];return a[E]=c?function(){var a=this,d=arguments;return c.apply(a,d=b.apply(a,d)||d)}:b,a},g[v]=function(a){var b=a[E],c=this[w];return a[E]=b?function(){var a=this,d=arguments;return c.apply(a,d=b.apply(a,d)||d)}:c,a},h[v]=function(a){return a[E]=this[w](a[E]||K),a},N[u]={value:function(){return j.apply(null,arguments)()}},N[x]={value:f},N[y]={value:g},N[z]={value:h},Object.defineProperties(j,N),j}),define("troopjs-core/mixin/base",["troopjs-composer/mixin/factory"],function(a){var b=0,c="instanceCount";return a(function(){this[c]=++b},{instanceCount:b,displayName:"core/mixin/base",toString:function(){var a=this;return a.displayName+"@"+a[c]}})}),define("troopjs-core/event/runner/sequence",["when"],function(a){var b,c="head",d="next",e="callback",f="context";return function(g,h,i){var j,k=[],l=0,m=[],n=0;for(j=h[c];j!==b;j=j[d])m[n++]=j;n=0;var o=function(c,d){var g;return d!==!0&&(k[l++]=c),(g=m[n++])!==b?a(g[e].apply(g[f],i),o):a.resolve(k)};return o(i,!0)}}),define("troopjs-core/event/emitter",["../mixin/base","./runner/sequence"],function(a,b){var c,d=Array.prototype.slice,e=Object.prototype.toString,f="[object String]",g="handlers",h="type",i="runner",j="context",k="callback",l="data",m="head",n="tail",o="next",p="modified";return a.extend(function(){this[g]={}},{displayName:"core/event/emitter",on:function(a,b,d,e){var f,h=this,i=h[g];if(d===c)throw new Error("no callback provided");return a in i?(i=i[a],f={},f[k]=d,f[j]=b,f[l]=e,i[n]=n in i?i[n][o]=f:i[m]=f):(i=i[a]={},i[m]=i[n]=f={},f[k]=d,f[j]=b,f[l]=e),i[p]=(new Date).getTime(),h},off:function(a,b,d){var e,f,h,i=this,l=i[g];if(a in l){if(l=l[a],m in l){for(e=l[m];e!==c;e=e[o])(b&&e[j]!==b||d&&e[k]!==d)&&(f?h=h[o]=e:f=h=e);f&&h?(l[m]=f,l[n]=h,delete h[o]):(delete l[m],delete l[n])}l[p]=(new Date).getTime()}return i},emit:function(a){var c=this,j=a,k=c[g],l=b;if(e.call(a)===f)a={},a[i]=l,a[h]=j;else{if(!(h in a))throw Error("first argument has to be of type 'String' or have a '"+h+"' property");a[i]=l=a[i]||l,j=a[h]}return k=j in k?k[j]:k[j]={},l.call(c,a,k,d.call(arguments,1))}})}),define("troopjs-utils/merge",["poly/object"],function(){var a,b=null,c=Array.prototype,d=c.concat,e=Object.prototype,f=e.toString,g=f.call(e),h=f.call(c),i="length";return function j(c){var e,k,l,m,n,o,p,q,r,s,t=this;if(t!==a&&t!==b)for(l=0,n=arguments[i];n>l;l++)if((c=arguments[l])!==a&&c!==b)for(k=Object.keys(c),m=0,o=k[i];o>m;m++)e=k[m],p=c[e],q=t[e],e in t?(r=f.call(p),s=f.call(q),s===g&&r===g?j.call(q,p):t[e]=s===h&&r===h?d.call(q,p):p):t[e]=p;return t}}),define("troopjs-core/component/base",["../event/emitter","when","troopjs-utils/merge","poly/array"],function(a,b,c){var d,e=Array.prototype,f=e.push,g=a.prototype,h=g.on,i=g.off,j="configuration",k="length",l="context",m="name",n="type",o="value",p="phase",q="stop",r="initialize",s="started",t="finalized",u="finished",v="sig",w="on";return a.extend(function(){var a,b,c,e,f=this;if((a=f.constructor.specials[v])!==d)for(c=0,e=a[k];e>c;c++)b=a[c],f.on(b[m],b[o]);f[j]={}},{displayName:"core/component/base","sig/initialize":function(){var a,b,c,e,f=this;if((a=f.constructor.specials[w])!==d)for(c=0,e=a[k];e>c;c++)b=a[c],f.on(b[n],b[o])},"sig/finalize":function(){var a,b,c,e,f=this;if((a=f.constructor.specials[w])!==d)for(c=0,e=a[k];e>c;c++)b=a[c],f.off(b[n],b[o])},configure:function(){return c.apply(this[j],arguments)},on:function(a,b,c){var d=this;return h.call(d,a,d,b,c)},off:function(a,b){var c=this;return i.call(c,a,c,b)},signal:function(a){var b=this;return arguments[0]="sig/"+a,b.emit.apply(b,arguments)},start:function(a){var b,c=this,g=c.signal;if((b=c[p])!==d&&b!==t)throw new Error("Can't transition phase from '"+b+"' to '"+r+"'");return a=[c[p]=r],f.apply(a,arguments),g.apply(c,a).then(function(b){return a[0]=c[p]="start",g.apply(c,a).then(function(a){return c[p]=s,e.concat(b,a)})})},stop:function(a){var b,c=this,d=c.signal;if((b=c[p])!==s)throw new Error("Can't transition phase from '"+b+"' to '"+q+"'");return a=[c[p]=q],f.apply(a,arguments),d.apply(c,a).then(function(b){return a[0]=c[p]="finalize",d.apply(c,a).then(function(a){return c[p]=t,e.concat(b,a)})})},task:function(a,c){var d=this,e=b.promise(a).ensure(function(){e[u]=new Date});return e[l]=d,e[s]=new Date,e[m]=c,d.signal("task",e).yield(e)}})}),define("troopjs-core/pubsub/runner/constants",{pattern:/^(?:initi|fin)alized?$/}),define("troopjs-core/pubsub/runner/pipeline",["./constants","when"],function(a,b){var c,d=Object.prototype.toString,e="[object Arguments]",f="[object Array]",g="context",h="callback",i="head",j="next",k="phase",l="memory",m=a.pattern;return function(a,n,o){var p,q=a[g],r=a[h],s=[],t=0;for(p=n[i];p!==c;p=p[j])(q===c||p[g]===q)&&(r&&p[h]!==r||(s[t++]=p));t=0;var u=function(a){var i,j,p;for(a!==c&&a!==o&&(o=(p=d.call(a))===f||p===e?a:[a]);(j=s[t++])&&(i=j[g])&&m.test(i[k]););return j!==c?b(j[h].apply(i,o),u):b.resolve(n[l]=o)};return u(o)}}),define("troopjs-core/pubsub/hub",["../event/emitter","./runner/pipeline","when"],function(a,b,c){var d,e=a.prototype,f="context",g="callback",h="memory",i="handlers",j="runner",k="type";return a.create({displayName:"core/pubsub/hub",subscribe:e.on,unsubscribe:e.off,publish:function(a){var c=this,d={};return d[k]=a,d[j]=b,arguments[0]=d,c.emit.apply(c,arguments)},republish:function(a,e,l){var m,n=this;if((m=n[i][a])===d||!(h in m))return c.resolve(d);var o={};return o[k]=a,o[j]=b,o[f]=e,o[g]=l,n.emit.apply(n,[o].concat(m[h]))},peek:function(a){var b;return(b=this[i][a])!==d&&b[h]}})}),define("troopjs-core/component/gadget",["./base","when","../pubsub/hub"],function(a,b,c){var d,e="length",f="features",g="type",h="value",i="hub";return a.extend({displayName:"core/component/gadget","sig/initialize":function(){var a,b,j,k,l=this;if((a=l.constructor.specials[i])!==d)for(j=0,k=a[e];k>j;j++)b=a[j],c.subscribe(b[g],l,b[h],b[f])},"sig/start":function(){var a,j,k,l,m=this,n=[],o=0;if((a=m.constructor.specials[i])!==d)for(k=0,l=a[e];l>k;k++)j=a[k],"memory"===j[f]&&(n[o++]=c.republish(j[g],m,j[h]));return b.all(n)},"sig/finalize":function(){var a,b,c,f,j=this;if((a=j.constructor.specials[i])!==d)for(c=0,f=a[e];f>c;c++)b=a[c],j.unsubscribe(b[g],b[h])},"sig/task":function(a){return this.publish("task",a)},publish:function(){return c.publish.apply(c,arguments)},republish:function(){return c.republish.apply(c,arguments)},subscribe:function(a,b,d){var e=this;return c.subscribe(a,e,b,d),e},unsubscribe:function(a,b){var d=this;return c.unsubscribe(a,d,b),d},peek:function(a){return c.peek(a)}})}),define("troopjs-browser/dom/constants",{"class":"class",id:"id",tag:"tag",universal:"universal",indexes:"indexes",indexed:"indexed",indexer:"indexer",querySelectorAll:"querySelectorAll",matchesSelector:"matchesSelector"}),define("troopjs-browser/dom/config",["module","./constants","troopjs-utils/merge","jquery"],function(a,b,c,d){var e={};return e[b.querySelectorAll]=d.find,e[b.matchesSelector]=d.find.matchesSelector,c.call(e,a.config())}),define("troopjs-browser/dom/selector",["troopjs-composer/mixin/factory","./constants","./config"],function(a,b,c){function d(){return[v]}function e(a){return[a.nodeName.toUpperCase()]}function f(a){var b,c;return(b=a.className)!==j&&("string"==typeof b?c=b.split(A):"object"==typeof b&&z in b&&(c=b[z].split(A))),c}function g(a){var b;return(b=a.id)!==j&&[b]}function h(a){var b=a[l],c=b,d=a[--b],e=!1;a:for(;b>0;)switch(d){case u:if((d=a[--b])!==t&&!e){b+=2;break a}break;case"]":e=(d=a[--b])!==t;break;case"[":(e=(d=a[--b])===t)||(c=b+1);break;case w:case x:(d=a[--b])===t||d===u||e||(c=b+1);break;default:d=a.charAt(--b)}return a.substring(b,c)}function i(a,b){return a[y]-b[y]}var j,k=Array.prototype.slice,l="length",m=b.indexes,n=b.indexed,o=b.indexer,p=b["class"],q=b.id,r=b.tag,s=b.universal,t="\\",u=" ",v="*",w="#",x=".",y="count",z="baseVal",A=/\s+/,B=(c[b.querySelectorAll],c[b.matchesSelector]),C=a(function(){var a=this;a[m]=[],a[y]=0},{add:function(a,b){var c,i,t,u,z=this,A=z[m],B=h(a);switch(b=k.call(arguments),b[y]=z[y]++,B.charAt(0)){case w:u=q,i=g,B=B.substring(1);break;case x:u=p,i=f,B=B.substring(1);break;case v:u=s,i=d;break;default:u=r,i=e,B=B.toUpperCase()}return(t=A[u])!==j?c=t[n]:(t=A[u]=A[A[l]]={},t[o]=i,c=t[n]={}),B in c?c[B].push(b):c[B]=[b],z},matches:function(a){var b,c,d,e,f,g,h,k,p=this,q=p[m],r=q[l],s=[],t=0;if(!a)return s;for(;r--;)for(d=q[r],b=d[o],c=d[n],e=b(a),f=e[l];f--;)if((g=c[e[f]])!==j)for(k=g[l];k--;)h=g[k],B(a,h[0])&&(s[t++]=h);return s.sort(i)}});return C.tail=h,C}),define("troopjs-browser/component/runner/sequence",["../../dom/selector","poly/array"],function(a){var b,c="context",d="callback",e="data",f="head",g="next",h="selector",i="modified";return function(j,k,l){var m,n,o=k[i],p=l[0];if((m=k[h])===b||m[i]!==o)for(m=k[h]=a(),m[i]=o,n=k[f];n!==b;n=n[g])m.add(n[e]||"*",n);return m.matches(p.target).reduce(function(a,b){if(p.isImmediatePropagationStopped())return a;a===!1&&(p.stopPropagation(),p.preventDefault());var e=b[1];return e[d].apply(e[c],l)},b)}}),define("troopjs-browser/loom/config",["module","troopjs-utils/merge"],function(a,b){return b.call({$warp:"$warp",$weft:"$weft",weave:"data-weave",unweave:"data-unweave",woven:"data-woven"},a.config())}),define("troopjs-utils/getargs",[],function(){var a=Array.prototype.push,b=String.prototype.substring,c=/^(?:false|true)$/i,d=/^true$/i,e=/^\d+$/;return function(){var f,g,h,i,j,k,l=this,m=[],n=!1;for(g=h=i=0,f=l.length;f>i;i++)switch(j=l.charAt(i)){case'"':case"'":n===j?(n=!1,a.call(m,b.call(l,g,h))):n=j,g=h=i+1;break;case",":if(n){h=i+1;break}g!==h&&(k=b.call(l,g,h),c.test(k)?k=d.test(k):e.test(k)&&(k=+k),a.call(m,k)),g=h=i+1;break;case" ":case"	":if(n){h=i+1;break}g===h&&(g=h=i+1);break;default:h=i+1}return g!==h&&(k=b.call(l,g,h),c.test(k)?k=d.test(k):e.test(k)&&(k=+k),a.call(m,k)),m}}),define("troopjs-utils/defer",["when","poly/array"],function(a){var b=Array.prototype.slice;return function(){var c=a.defer();return["resolve","reject","progress"].forEach(function(a){var c=this,d=c.resolver[a];c[a]=function(){d.apply(c,arguments)},c[a+"With"]=function(a){d.apply(a,b.call(arguments,1))}},c),c}}),define("troopjs-browser/loom/weave",["./config","require","when","jquery","troopjs-utils/getargs","troopjs-utils/defer","poly/array"],function(a,b,c,d,e,f){var g,h=null,i=Array.prototype,j=i.map,k=i.push,l=i.shift,m=(i.unshift,"weave"),n="woven",o=a.$warp,p=a.$weft,q=a[m],r=a[n],s=/[\s,]+/;return function(){var a=arguments;return c.all(j.call(this,function(i){var j,t,u=d(i),v=u.data(),w=v[o]||(v[o]=[]),x=[],y=u.attr(q)||"",z=/[\s,]*(((?:\w+!)?([\w\d_\-\/\.]+)(?:#[^(\s]+)?)(?:\(([^\)]+)\))?)/g,A=function(a){var b=[];a.forEach(function(a){b.push(a[p][n])}),u.attr(r,function(a,c){return(c!==g?c.split(s):[]).concat(b).join(" ")})};u.removeAttr(q);for(var B;(t=z.exec(y))!==h;)B=t[4],j=[t[2],u.get(0),t[3]],j[m]=t[1],B!==g&&k.apply(j,e.call(B).map(function(a){return a in v?v[a]:a})),k.call(x,j);return c.map(x,function(d){var e=c.defer(),g=e.resolver,h=e.promise,i=l.call(d);return h[m]=d[m],k.call(w,h),b([i],function(b){var c,i;try{c=b.apply(b,d),c[p]=h,h[n]=c.toString(),c.trigger?(e=f(),c.start(e),i=e.promise):i=c.start.apply(c,a),g.resolve(i.yield(c))}catch(j){g.reject(j)}},g.reject),h}).tap(A)}))}}),define("troopjs-browser/loom/unweave",["./config","when","jquery","poly/array","troopjs-utils/defer"],function(a,b,c,d){var e,f=null,g=Array.prototype,h=g.map,i=g.push,j="weave",k="unweave",l="woven",m="length",n=a.$warp,o=a.$weft,p=a[j],q=a[l],r=a[k],s=/[\s,]+/;return function(){var a=arguments;return b.all(h.call(this,function(g){var h,k,t,u,v,w=c(g),x=w.data(),y=x[n]||(x[n]=[]),z=[],A=w.attr(r),B=[],C=/[\s,]*([\w_\-\/\.]+)(?:@(\d+))?/g,D=function(a){var b={},c=[];a.forEach(function(a){var d=a[o];b[d[l]]=1,c.push(d[j])}),w.attr(q,function(a,c){var d=[];return c!==e&&i.apply(d,c.split(s).filter(function(a){return!(a in b)})),0===d[m]?null:d.join(" ")}).attr(p,function(a,b){return(b!==e?b.split(s):[]).concat(c).join(" ")})};if(w.removeAttr(r),A===e)i.apply(z,y),y[m]=0;else{for(;(h=C.exec(A))!==f;)i.call(B,"^"+h[1]+"@"+(h[2]||"\\d+")+"$");for(B=new RegExp(B.join("|")),u=v=0,t=y[m];t>u;u++)k=y[u],B.test(k[l])?i.call(z,k):y[v++]=k;y[m]=v}return b.map(z,function(b){var c,e;return b.trigger?(c=d(),b.stop(c),e=c.promise):e=b.stop.apply(b,a),e.yield(b)}).tap(D)}))}}),define("troopjs-jquery/destroy",["jquery"],function(a){var b="destroy";a.event.special[b]={noBubble:!0,trigger:function(){return!1},remove:function(b){var c=this;b&&b.handler.call(c,a.Event(b.type,{data:b.data,namespace:b.namespace,target:c}))}}}),define("troopjs-browser/component/widget",["jquery","troopjs-core/component/gadget","troopjs-utils/merge","./runner/sequence","../loom/config","../loom/weave","../loom/unweave","troopjs-jquery/destroy"],function(a,b,c,d,e,f,g){function h(a){function b(b){var c=this;return f.call(a.call(c[n],typeof b===m?b.apply(c,j.call(arguments,1)):b).find(w))}return b}var i,j=Array.prototype.slice,k=Array.prototype.push,l=a.fn.get,m="function",n="$element",o="$handler",p="dom",q="features",r="value",s="name",t="types",u="length",v=e.$weft,w="["+e.weave+"]",x="["+e.woven+"]";return b.extend(function(b,c){var e,f=this;if(b===i)throw new Error("No $element provided");if(b.jquery)(e=b.get)!==l&&(b=a(e.call(b,0)));else{if(!b.nodeType)throw new Error("Unsupported widget element");b=a(b)}f[n]=b,f[o]=function(a,b){return b=[{type:"dom/"+a.type,runner:d}],k.apply(b,arguments),f.emit.apply(f,b)},c!==i&&(f.displayName=c)},{displayName:"browser/component/widget","sig/initialize":function(){var a,b,c,d,e=this,f=e[n],g=e[o];if((b=e.constructor.specials[p])!==i){for(c=0,d=b[u];d>c;c++)a=b[c],e.on(a[s],a[r],a[q]);f.on(b[t].join(" "),null,e,g)}},"sig/finalize":function(){var a,b,c,d,e=this,f=e[n],g=e[o];if((b=e.constructor.specials[p])!==i){for(c=0,d=b[u];d>c;c++)a=b[c],e.off(a[s],a[r]);f.off(b[t].join(" "),null,g)}},"sig/task":function(a){this[n].trigger("task",[a])},weave:function(){return f.apply(this[n].find(w),arguments)},unweave:function(){var a=this[n].find(x);return this[v]&&(a=a.addBack()),g.apply(a,arguments)},"dom/destroy":function(){this.unweave()},before:h(a.fn.before),after:h(a.fn.after),html:h(a.fn.html),text:h(a.fn.text),append:h(a.fn.append),prepend:h(a.fn.prepend)})}),define("troopjs-core/component/service",["./gadget"],function(a){return a.extend({displayName:"core/component/service","sig/initialize":function(){var a=this;return a.publish("registry/add",a)},"sig/finalize":function(){var a=this;return a.publish("registry/remove",a)}})}),define("troopjs-core/registry/service",["../component/service","poly/object","poly/array"],function(a){var b="services";return a.extend(function(){var a=this;a[b]={},a.add(a)},{displayName:"core/registry/service",add:function(a){this[b][a.toString()]=a},remove:function(a){delete this[b][a.toString()]},get:function(a){var c=new RegExp(a),d=this[b];return Object.keys(d).filter(function(a){return c.test(a)}).map(function(a){return d[a]})},"hub/registry/add":function(a){return this.add(a)},"hub/registry/remove":function(a){return this.remove(a)},"hub/registry/get":function(a){return this.get(a)}})}),define("troopjs-browser/application/widget",["module","../component/widget","when","troopjs-core/registry/service","poly/array"],function(a,b,c,d){function e(a,b){var d=this,e=[a],g=d[j].get(),h=0,k=[],l=0;i.apply(e,b);var m=function(a,b){var d;return b!==!0&&(k[l++]=a),(d=g[h++])!==f?c(d.signal.apply(d,e),m):c.resolve(k)};return m(f,!0)}var f,g=Array.prototype,h=g.slice,i=g.push,j="registry";return b.extend(function(){var a=this[j]=d();h.call(arguments,2).forEach(function(b){a.add(b)})},{displayName:"browser/application/widget","sig/initialize":function(){return e.call(this,"initialize",arguments)},"sig/start":function(){var a=this,b=arguments;return e.call(a,"start",b).then(function(){return a.weave.apply(a,b)})},"sig/stop":function(){var a=this,b=arguments;return a.unweave.apply(a,b).then(function(){return e.call(a,"stop",b)})},"sig/finalize":function(){return e.call(this,"finalize",arguments)}})}),define("troopjs-core/net/uri",["../mixin/base"],function(a){function b(a){var c,e,f={},g=d,h=/(?:&|^)([^&=]*)=?([^&]*)/g;if(f.toString=b.toString,i.call(a)===j)for(g in a)f[g]=a[g];else for(;(c=h.exec(a))!==d;)g=c[1],g in f?(e=f[g],i.call(e)===k?e[e.length]=c[2]:f[g]=[e,c[2]]):f[g]=c[2];return f}function c(a){var b=[];return b.toString=c.toString,g.apply(b,i.call(a)===k?a:h.call(a,"/")),b}var d=null,e=Array.prototype,f=Object.prototype,g=e.push,h=String.prototype.split,i=f.toString,j=i.call(f),k=i.call(e),l=i.call(Function.prototype),m=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:([^?#]*)(?:\?([^#]*))?(?:#(.*))?)/,n="protocol",o="authority",p="path",q="query",r="anchor",s=["source",n,o,"userInfo","user","password","host","port",p,q,r];b.toString=function(){var a,b,c,d,e=this,f=[],g=0;for(a in e)i.call(e[a])!==l&&(f[g++]=a);for(f.sort();g--;)if(a=f[g],b=e[a],i.call(b)===k){for(c=b.slice(0),c.sort(),d=c.length;d--;)b=c[d],c[d]=""===b?a:a+"="+b;f[g]=c.join("&")}else f[g]=""===b?a:a+"="+b;return f.join("&")},c.toString=function(){return this.join("/")};var t=a.extend(function(a){var e,f,g,h=this;if((f=m.exec(a))!==d)for(g=f.length;g--;)e=f[g],e&&(h[s[g]]=e);q in h&&(h[q]=b(h[q])),p in h&&(h[p]=c(h[p]))},{displayName:"core/net/uri",toString:function(){var a,b,c=this,d=[n,"://",o,p,"?",q,"#",r];n in c||(d[0]=d[1]=""),o in c||(d[2]=""),p in c||(d[3]=""),q in c||(d[4]=d[5]=""),r in c||(d[6]=d[7]=""),a=d.length;for(;a--;)b=d[a],b in c&&(d[a]=c[b]);return d.join("")}});return t.Path=c,t.Query=b,t}),define("troopjs-jquery/hashchange",["jquery"],function(a){function b(a){var b=g.exec(a.location.href);return b&&b[1]?decodeURIComponent(b[1]):""}function c(a){var b,c=this;c.element=b=a.createElement("iframe"),b.src="about:blank",b.style.display="none"}var d="interval",e="hashchange",f="on"+e,g=/#(.*)$/,h=/\?/,i=!1;c.prototype={getElement:function(){return this.element},getHash:function(){return this.element.contentWindow.frameHash},update:function(a){var b=this,c=b.element.contentWindow.document;b.getHash()!==a&&(c.open(),c.write("<html><head><title>' + document.title + '</title><script type='text/javascript'>var frameHash='"+a+"';</script></head><body>&nbsp;</body></html>"),c.close())}},a.event.special[e]={setup:function(){var g=this;if(f in g)return!1;if(!a.isWindow(g))throw new Error("Unable to bind 'hashchange' to a non-window object");var j=a(g),k=b(g),l=g.location;j.data(d,g.setInterval(i?function(){var a=g.document,d="file:"===l.protocol,f=new c(a);return a.body.appendChild(f.getElement()),f.update(k),function(){var a,c=k,i=b(g),m=f.getHash();m!==k&&m!==i?(a=decodeURIComponent(m),k!==a&&(k=a,f.update(k),j.trigger(e,[a,c])),l.hash="#"+encodeURI(d?m.replace(h,"%3F"):m)):i!==k&&(a=decodeURIComponent(i),k!==a&&(k=a,j.trigger(e,[a,c])))}}():function(){var a,c=k,d=b(g);d!==k&&(a=decodeURIComponent(d),k!==a&&(k=a,j.trigger(e,[a,c])))},25))},teardown:function(){var b=this;return f in b?!1:(b.clearInterval(a.data(b,d)),void 0)}}}),define("troopjs-browser/hash/widget",["../component/widget","troopjs-core/net/uri","troopjs-jquery/hashchange"],function(a,b){var c="$element",d="_hash",e=/^#/;return a.extend({displayName:"browser/hash/widget","sig/start":function(){this[c].trigger("hashchange")},"dom/hashchange":function(a){var f=this,g=f[c],h=b(g.get(0).location.hash.replace(e,"")),i=h.toString();i!==f[d]?(f[d]=i,g.trigger("urichange",[h])):a.stopImmediatePropagation()},"dom/hashset":function(a,b,e){var f=this,g=b.toString();e===!0&&(f[d]=g),f[c].get(0).location.hash=g}})}),define("troopjs-browser/mvc/route/widget",["../../component/widget"],function(a){function b(a){this[c].trigger("hashset",[a])}var c="$element",d="displayName",e="/set";return a.extend({displayName:"browser/mvc/route/widget","sig/initialize":function(){var a=this;a.subscribe(a[d]+e,b)},"sig/finalize":function(){var a=this;a.unsubscribe(a[d]+e,b)},"dom/urichange":function(a,b){var c=this;c.publish(c[d],b,a)}})}),define("troopjs-core/logger/console",["../component/base","poly/function"],function(a){function b(){}var c=window.console,d={};return["info","log","debug","warn","error"].reduce(function(a,d){return a[d]="undefined"!=typeof c&&c[d]?c[d].bind(c):b,a},d),a.create({displayName:"core/logger/console"},d)}),define("troopjs-core/logger/pubsub",["../component/base","../pubsub/hub"],function(a,b){var c=Array.prototype.push,d=b.publish;return a.create({displayName:"core/logger/pubsub",log:function(){var a=["logger/log"];c.apply(a,arguments),d.apply(b,a)},warn:function(){var a=["logger/warn"];c.apply(a,arguments),d.apply(b,a)},debug:function(){var a=["logger/debug"];c.apply(a,arguments),d.apply(b,a)},info:function(){var a=["logger/info"];c.apply(a,arguments),d.apply(b,a)},error:function(){var a=["logger/error"];c.apply(a,arguments),d.apply(b,a)}})}),define("troopjs-core/logger/service",["../component/service","troopjs-utils/merge","when"],function(a,b,c){function d(a,b){var d=this,e=d.signal,f=[a],g=d[m],h=0;i.apply(f,b);var j=function(){var a;return(a=g[h++])?c(e.apply(a,f),j):c.resolve(b)};return j()}function e(a,c){var d={cat:a,time:(new Date).getTime()};return j.call(c)===k?b.call(d,c):d.msg=c,d}function f(a){var b,c,d=this,e=d[m];for(b=0,c=e[l];c>b;b++)e[b].append(a)}var g=Array.prototype,h=g.slice,i=g.push,j=Object.prototype.toString,k="[object Object]",l="length",m="appenders";return a.extend(function(){this[m]=h.call(arguments)},{displayName:"core/logger/service","sig/initialize":function(){return d.call(this,"initialize",arguments)},"sig/start":function(){return d.call(this,"start",arguments)},"sig/stop":function(){return d.call(this,"stop",arguments)},"sig/finalize":function(){return d.call(this,"finalize",arguments)},"hub/logger/log":function(a){f.call(this,e("log",a))},"hub/logger/warn":function(a){f.call(this,e("warn",a))},"hub/logger/debug":function(a){f.call(this,e("debug",a))},"hub/logger/info":function(a){f.call(this,e("info",a))},"hub/logger/error":function(a){f.call(this,e("error",a))}})}),define("troopjs-core/pubsub/proxy/to1x",["../../component/service","when","when/apply","poly/array","poly/object"],function(a,b,c){var d,e=Array.prototype,f=e.push,g=e.slice,h=Object.keys,i=Object.prototype.toString,j="[object String]",k="publish",l="subscribe",m="hub",n="settings",o="length",p="resolve",q="topic",r="defer",s="memory";return a.extend(function(){this[n]=g.call(arguments)},{displayName:"core/pubsub/proxy/to1x","sig/initialize":function(){var a=this;a[n].forEach(function(e){if(!(m in e))throw new Error("'"+m+"' is missing from setting");var n=e[k]||{},t=e[l]||{},u=e[m];h(n).forEach(function(c){var e,h,k=n[c];if(i.call(k)===j)e=k,h=!1;else{if(!(q in k))throw new Error("'"+q+"' is missing from target '"+c+"'");e=k[q],h=!!k[r]}var l=n[c]=function(){var a,c,i=[e];return f.apply(i,g.call(arguments)),h&&(a=b.defer(),c=a[p],a[p]=a.resolver[p]=function(){c(g.call(arguments))},f.call(i,a)),u.publish.apply(u,i),a?a.promise:d};l[q]=e,l[r]=h,a.subscribe(c,l)}),h(t).forEach(function(d){var e,h,k=t[d];if(i.call(k)===j)e=k,h=!1;else{if(!(q in k))throw new Error("'"+q+"' is missing from target '"+d+"'");e=k[q],h=!!k[s]}var l=t[d]=function(){var d,h,i=[e];return f.apply(i,g.call(arguments,1)),b.isPromise(i[i[o]-1])&&(d=i.pop()),h=a.publish.apply(a,i),d&&b(h,c(d.resolve),d.reject,d.progress),h};l[q]=e,l[s]=h,u.subscribe(d,a,h,l)})})},"sig/finalize":function(){var a=this;a[n].forEach(function(b){if(!(m in b))throw new Error("'"+m+"' is missing from setting");var c=b[k]||{},d=b[l]||{},e=b[m];h(c).forEach(function(b){a.unsubscribe(b,c[b])}),h(d).forEach(function(b){e.unsubscribe(b,a,d[b])})})}})}),define("troopjs-core/pubsub/proxy/to2x",["../../component/service","when","poly/array","poly/object"],function(a,b){var c=Array.prototype,d=c.push,e=c.slice,f=Object.keys,g=Object.prototype.toString,h="[object String]",i="publish",j="subscribe",k="hub",l="settings",m="topic",n="republish";return a.extend(function(){this[l]=e.call(arguments)},{displayName:"core/pubsub/proxy/to2x","sig/initialize":function(){var a=this;a[l].forEach(function(b){if(!(k in b))throw new Error("'"+k+"' is missing from setting");var c=b[i]||{},l=b[j]||{},o=b[k];f(c).forEach(function(b){var f,i=c[b];if(g.call(i)===h)f=i;else{if(!(m in i))throw new Error("'"+m+"' is missing from target '"+b+"'");f=i[m]}var j=c[b]=function(){var a=[f];return d.apply(a,e.call(arguments)),o.publish.apply(o,a)};j[m]=f,a.subscribe(b,j)}),f(l).forEach(function(b){var c,f,i=l[b];if(g.call(i)===h)c=i,f=!1;else{if(!(m in i))throw new Error("'"+m+"' is missing from target '"+b+"'");c=i[m],f=!!i[n]}var j=l[b]=function(){var b=[c];return d.apply(b,e.call(arguments)),a.publish.apply(a,b)};j[m]=c,j[n]=f,o.subscribe(b,a,j)})})},"sig/start":function(){var a=this,c=[];return a[l].forEach(function(b){if(!(k in b))throw new Error("'"+k+"' is missing from setting");var d=b[j]||{},e=b[k];f(d).forEach(function(b){var f=d[b];f[n]===!0&&c.push(e.republish(b,a,f))})}),b.all(c)},"sig/finalize":function(){var a=this;a[l].forEach(function(b){if(!(k in b))throw new Error("'"+k+"' is missing from setting");var c=b[i]||{},d=b[j]||{},e=b[k];f(c).forEach(function(b){a.unsubscribe(b,c[b])}),f(d).forEach(function(b){e.unsubscribe(b,a,d[b])})})}})}),define("troopjs-browser/mvc/controller/widget",["../../component/widget","../../hash/widget","poly/object","poly/array"],function(a,b){function c(){var a=this;return g.call(arguments).forEach(function(b){Object.keys(b).forEach(function(c){a[c]=b[c]})}),a}function d(a,b){var c=this[f][a],d=this.hash(b),e=!(c===b&&i[a]===d);return e&&(i[a]=d),e}function e(a){var b=this;return b.task(function(e){var g=++h;b.request(c.call({},b[f],a)).then(function(a){if(g==h){var c={},i=Object.keys(a).reduce(function(e,f){return d.apply(b,[f,a[f]])&&(c[f]=a[f],e=!0),e},!1);b[f]=a,e(b.emit("results",a).then(function(){return i&&b.emit("updates",c)}).then(function(){b.$element.trigger("hashset",[b.data2uri(a),!0])}).yield(a))}})})}var f="_cache",g=Array.prototype.slice,h=0,i={};return a.extend(function(){this[f]={}},{displayName:"browser/mvc/controller/widget","dom/urichange":function(a,b){e(this.uri2data(b))},request:function(){throw new Error("request is not implemented")},uri2data:function(){throw new Error("uri2data is not implemented")},data2uri:function(){throw new Error("data2uri is not implemented")},hash:function(){return""}},b)}),define("troopjs-browser/store/adapter/base",["troopjs-core/component/gadget"],function(a){var b="storage";return a.extend({displayName:"browser/store/adapter/base",afterPut:function(a,c,d){this[b].setItem(c,JSON.stringify(d))},beforeGet:function(a,c){return a.put(c,JSON.parse(this[b].getItem(c)))},clear:function(){return this[b].clear()}})}),define("troopjs-browser/store/adapter/local",["./base"],function(a){return a.extend({displayName:"browser/store/adapter/local",storage:window.localStorage})}),define("troopjs-browser/store/adapter/session",["./base"],function(a){return a.extend({displayName:"browser/store/adapter/session",storage:window.sessionStorage})}),define("troopjs-jquery/resize",["jquery"],function(a){function b(b,c){var d=a.data(c),h=a(c),i=h.width(),j=h.height();(i!==d[f]||j!==d[g])&&(d[f]=i,d[g]=j,h.trigger(e,[i,j]))}function c(){h.each(b)}var d=null,e="resize",f="w",g="h",h=a([]),i=d;a.event.special[e]={setup:function(){var b=this;if(a.isWindow(b))return!1;var d=a.data(b,e,{}),j=a(b);d[f]=j.width(),d[g]=j.height(),h=h.add(b),1===h.length&&(i=setInterval(c,100))},teardown:function(){var b=this;return a.isWindow(b)?!1:(a.removeData(b,e),h=h.not(b),0===h.length&&i!==d&&clearInterval(i),void 0)}}}),define("troopjs-jquery/dimensions",["jquery","./resize"],function(a){function b(a,b){return b-a}function c(){var b=this,c=a(b),d=c.width(),f=c.height();a.each(a.data(b,e),function(a,b){var k,l,m,n=b[g],o=b[h];for(m=n.length,k=n[m-1];n[--m]<d;)k=n[m];for(m=o.length,l=o[m-1];o[--m]<f;)l=o[m];(k!==b[i]||l!==b[j])&&(b[i]=k,b[j]=l,c.trigger(e+"."+a,[k,l]))})}var d=null,e="dimensions",f="resize."+e,g="w",h="h",i="_"+g,j="_"+h;a.event.special[e]={setup:function(){a(this).bind(f,c).data(e,{})},add:function(c){for(var f,i=this,j=c.namespace,k={},l=k[g]=[],m=k[h]=[],n=/(w|h)(\d+)/g;(f=n.exec(j))!==d;)k[f[1]].push(parseInt(f[2],10));l.sort(b),m.sort(b),a.data(i,e)[j]=k},remove:function(b){delete a.data(this,e)[b.namespace]},teardown:function(){a(this).removeData(e).unbind(f,c)}}}),define("troopjs-browser/dimensions/widget",["../component/widget","troopjs-jquery/dimensions","troopjs-jquery/resize"],function(a){function b(a,b,c){var d=a.data;d.publish(d.displayName,b,c,a)}var c,d="$element",e="dimensions";return a.extend(function(a,b,d){if(d===c)throw new Error("No dimensions provided");this[e]=d},{displayName:"browser/dimensions/widget","sig/initialize":function(){var a=this;a[d].on(e+"."+a[e],a,b)},"sig/start":function(){this[d].trigger("resize."+e)},"sig/finalize":function(){var a=this;a[d].off(e+"."+a[e],b)}})}),define("troopjs-data/ajax/service",["troopjs-core/component/service","jquery","troopjs-utils/merge"],function(a,b,c){return a.extend({displayName:"data/ajax/service","hub/ajax":function(a){return b.ajax(c.call({headers:{"x-troopjs-request-id":(new Date).getTime()}},a))}})}),define("troopjs-data/cache/component",["troopjs-core/component/base","poly/object","poly/array"],function(a){function b(a,i,u){var v,w,x,y,z,A,B,C,D,E,F,G,H=this,I=H[j];if(p in a)if(a[s]=u,w=a[p],w in H){if(v=H[w],a[t]===d)return v}else v=H[w]=a;else v=a;if(i===h)for(x=0,y=a[o];y>x;x++)G=a[x],i=G===f||G===c?c:G[n],v[x]=i===g||i===h&&0!==G[o]?b.call(H,G,i,u):G;else if(i===g){if(a[t]===e)for(F in v)F===p||F===t||F===r||F in a||delete v[F];for(F in a)F===p||F===t&&v[t]===e||(G=a[F],i=G===f||G===c?c:G[n],v[F]=i===g||i===h&&0!==G[o]?b.call(H,G,i,u):G)
}a:if(w!==c){if(z=0|u+(v[q]>>>0),r in v){if(A=v[r],A===z)break a;A in I&&delete I[A][w]}if(v[t]!==d)if(v[r]=z,z in I)I[z][w]=v;else if((E=I[z]={})[m]=z,E[w]=v,I[k]!==c){for(C=B=I[k];(D=C[l])!==c&&D[m]<z;C=D);C===B&&C[m]>z?(E[l]=C,I[k]=E):(E[l]=C[l],C[l]=E)}else I[k]=E}return v}var c,d=!0,e=!1,f=null,g=Object,h=Array,i=1e3,j="generations",k="head",l="next",m="expires",n="constructor",o="length",p="id",q="maxAge",r="expires",s="indexed",t="collapsed";return a.extend(function(){this[j]={}},{displayName:"data/cache/component","sig/finalize":function(){var a=this;Object.keys(a).forEach(function(b){var d;(d=a[b])!==c&&[n]===g&&d.hasOwnProperty(p)&&delete a[b]})},put:function(a){var d=this,e=a===f||a===c?c:a[n];return e===g||e===h&&0!==a[o]?b.call(d,a,e,0|(new Date).getTime()/i):a}})}),define("troopjs-data/cache/service",["troopjs-core/component/service"],function(a){function b(a){var b,d,e=this,f=e[h];if(d=f[i],d!==c){do{if(d[k]>a)break;for(b in d)b!==k&&b!==j&&b!==h&&delete e[b];delete f[d[k]]}while(d=d[j]);f[i]=d}}var c,d=Array.prototype.slice,e="_caches",f="_timeout",g=1e3,h="generations",i="head",j="next",k="expires",l="length";return a.extend(function(){this[e]=d.call(arguments)},{"sig/start":function(a){function d(){var c,e,j=0|(new Date).getTime()/g;for(c=0,e=i[l];e>c;c++)b.call(i[c],j),h[f]=setTimeout(d,a)}var h=this,i=h[e];a===c&&(a=60*g),d()},"sig/stop":function(){var a=this;clearTimeout(a[f])}})}),define("troopjs-data/query/component",["troopjs-core/component/base"],function(a){var b,c=!0,d=!1,e=Object,f=Array,g="constructor",h="length",i="op",j="!",k=".",l=",",m="|",n="text",o="raw",p="resolved",q="id",r="expires",s="collapsed",t="_ast",u="_query",v=/("|')(.*?)\1/,w="$2",x=/!(.*[!,|.\s]+.*)/,y="!'$1'";return a.extend(function(a){var c=this;a!==b&&(c[u]=a)},{displayName:"data/query/component",parse:function(a){var c=this;delete c[t],a=c[u]=a||c[u]||"";var d,e,f,g,p,q,r=[];for(d=g=0,e=a[h];e>d;d++)switch(f=a.charAt(d)){case'"':case"'":p=p===f?b:f;break;case j:if(p!==b)break;q={},q[i]=f;break;case k:case l:if(p!==b)break;q!==b&&(q[o]=(q[n]=a.substring(g,d)).replace(v,w),r.push(q)),q={},q[i]=f,g=d+1;break;case m:case" ":case"	":case"\r":case"\n":if(p!==b)break;q!==b&&(q[o]=(q[n]=a.substring(g,d)).replace(v,w),r.push(q)),q=b,g=d+1}return q!==b&&(q[o]=(q[n]=a.substring(g,e)).replace(v,w),r.push(q)),c[t]=r,c},reduce:function(a){var m=this,u=0|(new Date).getTime()/1e3;t in m||m.parse();var v,w,z,A,B,C,D,E,F=m[t],G=[],H=d,I=d;for(v=0,A=F[h];A>v;v++)switch(B=F[v],B[i]){case j:D=B,C=B[o],C in a?(E=a[C],H=B[p]=E[s]!==c&&!(r in E&&E[r]<u)):(E=b,H=B[p]=d);break;case k:if(C=B[o],H)if(E&&C in E)if(E=E[C],z=E[g],z===f){for(B[p]=c,w=E[h];w-->0;)if(z=E[w],z[g]===e&&q in z&&(z[s]===c||r in z&&z[r]<u)){B[p]=d;break}}else z===e&&q in E?(B[i]=j,B[n]=(B[o]=E[q]).replace(x,y),B[p]=E[s]!==c&&!(r in E&&E[r]<u)):B[p]=c;else E=b,B[p]=d;else B[p]=d;break;case l:C=D[o],E=a[C],B[i]=j,B[n]=D[n],B[o]=C,B[p]=D[p]}for(;A-->0;)switch(B=F[A],B[i]){case j:(I||B[p]!==c)&&G.unshift(B),I=d;break;case k:G.unshift(B),I=c}return m[t]=G,m},ast:function(){var a=this;return t in a||a.parse(),a[t]},rewrite:function(){var a=this;t in a||a.parse();var b,c,d,e=a[t],f="";for(c=0,b=e[h];b>c;c++)switch(d=e[c],d[i]){case j:f+=0===c?d[n]:m+d[n];break;case k:f+=k+d[n]}return f}})}),define("troopjs-data/query/service",["module","troopjs-core/component/service","./component","troopjs-utils/merge","when","when/apply"],function(a,b,c,d,e){var f,g=Array.prototype,h=g.slice,i=g.concat,j=g.push,k="length",l="batches",m="interval",n="cache",o="queries",p="resolved",q="configuration",r="raw",s="id",t="q",u=a.config();return b.extend(function(a){var b=this;if(a===f)throw new Error("No cache provided");b[l]=[],b[n]=a,b.configure(u)},{displayName:"data/query/service","sig/start":function(){var a=this,b=a[n];a[m]=m in a?a[m]:setInterval(function(){function c(){var b,c=[];for(b=g[k];b--;)j.apply(c,g[b][t]);return a.publish("ajax",d.call({data:{q:c.join("|")}},a[q]))}function e(a){var c,d,e,f,h;for(b.put(a),f=g[k];f--;){for(c=g[f],d=c[o],e=c[s],h=d[k];h--;)h in e&&(d[h]=b[e[h]]);c.resolve(d)}}function f(){var a,b;for(b=g[k];b--;)a=g[b],a.reject(a[o])}var g=a[l];0!==g[k]&&(a[l]=[],c().then(e,f))},200)},"sig/stop":function(){var a=this;m in a&&(clearInterval(a[m]),delete a[m])},"hub/query":function(){var a,b,d,f,m,q,u=this,v=u[l],w=u[n],x=[],y=[],z=e.defer(),A=z.resolver;try{for(m=i.apply(g,h.call(arguments)),b=0,f=m[k];f>b;b++)for(q=c(m[b]),a=q.ast(),a[k]>0&&(y[b]=a[0][r]),a=q.reduce(w).ast(),d=a[k];d-->0;)if(!a[d][p]){j.call(x,q.rewrite());break}if(0===x[k]){for(b=0;f>b;b++)b in y&&(m[b]=w[y[b]]);A.resolve(m)}else A[o]=m,A[s]=y,A[t]=x,v.push(A)}catch(B){A.reject(B)}return z.promise}})}),define("troopjs-data/component/widget",["troopjs-browser/component/widget"],function(a){var b=Array.prototype.push;return a.extend({displayName:"data/component/widget",query:function(){var a=this,c=["query"];return b.apply(c,arguments),a.publish.apply(a,c)}})}),define("troopjs-jquery/noconflict",["jquery"],function(a){return a.noConflict(!0)}),define("troopjs-requirejs/multiversion",[],function(){var a=/(.+?)#(.+)$/,b=require.s.contexts;return{load:function(c,d,e){var f,g;null!==(g=a.exec(c))&&(c=g[1],f=g[2],f in b&&(d=b[f].require)),d([c],function(a){e(a)},e.error)}}}),define("troopjs-requirejs/shadow",["text"],function(a){function b(a,b){for(var c,d=/([^=&]+)=([^&]+)/g,f=[],g=[];b&&(c=d.exec(b));)c[1]===e?a+=";\nreturn "+c[2]+";\n":(f.push("'"+c[2]+"'"),g.push(c[1]));return"define([ "+f.join(", ")+" ], function ("+g.join(", ")+") {\n"+a+"});"}function c(a,b){var c,d,e;for(a=a.split("."),b=b.split("."),d=Math.min(a.length,b.length),e=0;d>e;e++)if(c=parseInt(a[e],null)-parseInt(b[e],null),0!==c)return c;return a.length-b.length}var d,e="exports",f=".js",g=/(.+?)#(.+)$/,h=/^empty:/,i=require.version,j={};return{load:function(e,k,l,m){var n,o,p,q,r=e;(n=g.exec(e))&&(r=n[1],o=n[2]),q=k.toUrl(r+f),h.test(q)?l(d):a.get(q,function(a){p=b(a,o),m.isBuild&&(j[e]=p),l.fromText(e,p),c(i,"2.1.0")<0&&k([e],l)})},write:function(a,b,c){var d;b in j&&(d=j[b],c.asModule(a+"!"+b,d))}}}),define("troopjs/version",[],function(){return"3.0.0-1"}),define(["troopjs/version"],function(a){return a});