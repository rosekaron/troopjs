/**
 *   ____ .     ____  ____  ____    ____.
 *   \   (/_\___\  (__\  (__\  (\___\  (/
 *   / ._/  ( . _   \  . /   . /  . _   \_
 * _/    ___/   /____ /  \_ /  \_    ____/
 * \   _/ \____/   \____________/   /
 *  \_t:_____r:_______o:____o:___p:/ [ troopjs - 3.0.0-1+e2850e9 ]
 *
 * @license MIT http://troopjs.mit-license.org/ Â© Mikael Karon mailto:mikael@karon.se
 */
define("troopjs-utils/unique",[],function(){var a="length";return function(b){var c,d,e,f,g=this,h=g[a];if(b)a:for(d=f=0;h>d;d++){for(c=g[d],e=0;d>e;e++)if(b.call(g,c,[e])===!0)continue a;g[f++]=c}else a:for(d=f=0;h>d;d++){for(c=g[d],e=0;d>e;e++)if(c===g[e])continue a;g[f++]=c}return g[a]=f,f}}),define("troopjs-core/component/factory",["module","troopjs-utils/unique","poly/object"],function(a,b){function c(){return d.apply(this,arguments)()}function d(){var a=[this];return n.apply(a,arguments),j.apply(null,a)}function e(a,b){var c={};c[w]={value:a},c[v]={value:b},Object.defineProperties(this,c)}function f(a){return new e(a,f[v])}function g(a){return new e(a,g[v])}function h(a){return new e(a,h[v])}function i(){var a=this,b=a[k];return r in b?b[r]:p.call(a)}function j(){function a(){var b,c=this instanceof a?this:Object.create(V),d=arguments;for(Object.defineProperty(c,A,{value:a}),b=0;j>b;b++)d=U[b].apply(c,d)||d;return c}var f,g,h,j,m,p,r,w,x,y,z,J,M,N,O,P,Q,R=[],S=arguments,T=S[s],U=[],V={},W={},X={};for(x=0;T>x;x++){if(h=S[x],typeof h===q){if(B in h?n.apply(U,h[B]):n.call(U,h),C in h&&o.apply(R,h[C]),h===h[k][A])continue;h=h[k]}for(r=Object.getOwnPropertyNames(h),y=0,w=r[s];w>y;y++){for(m=p=r[y],z=0;L>z&&(J=K[z],(m=m.replace(J.pattern,J.replace))===p);z++);(O=I.exec(m))?(f={},f[D]=M=O[1],f[F]=O[2],f[G]=N=O[3],f[H]=M+"/"+N,f[E]=h[p],o.call(R,f)):(Q=Object.getOwnPropertyDescriptor(h,p),P=Q[E],W[m]=P instanceof e?P[v](W[m]||{enumerable:!0,configurable:!0,writable:!0}):Q)}}for(Object.defineProperties(V,W),j=b.call(U),g=b.call(R),x=0;g>x;x++)f=R[x],M=f[D],N=f[G],m=f[H],M=M in R?R[M]:R[M]=[],N=N in M?M[N]:M[N]=R[m]=[],M[M[s]]=N[N[s]]=f;return X[k]={value:V},X[B]={value:U},X[C]={value:R},X[l]={value:i},X[t]={value:d},X[u]={value:c},Object.defineProperties(a,X),a}var k="prototype",l="toString",m=Array[k],n=m.push,o=m.unshift,p=Object[k][l],q="function",r="displayName",s="length",t="extend",u="create",v="decorate",w="decorated",x="before",y="after",z="around",A="constructor",B="constructors",C="specials",D="group",E="value",F="features",G="type",H="name",I=/^(\w+)(?::(.+?))?\/([-_./\d\w\s]+)$/,J=function(){},K=a.config().pragmas||[],L=K[s],M={};return f[v]=function(a){var b=this[w],c=a[E];return a[E]=c?function(){var a=this,d=arguments;return c.apply(a,d=b.apply(a,d)||d)}:b,a},g[v]=function(a){var b=a[E],c=this[w];return a[E]=b?function(){var a=this,d=arguments;return c.apply(a,d=b.apply(a,d)||d)}:c,a},h[v]=function(a){return a[E]=this[w](a[E]||J),a},M[u]={value:function(){return j.apply(null,arguments)()}},M[x]={value:f},M[y]={value:g},M[z]={value:h},Object.defineProperties(j,M),j}),define("troopjs-utils/merge",["poly/object"],function(){var a="length",b=Array.prototype,c=b.concat,d=Object.prototype,e=d.toString,f=e.call(d),g=e.call(b);return function h(b){var d,i,j,k,l,m,n,o,p,q,r=this;for(j=0,l=arguments[a];l>j;j++)for(b=arguments[j],i=Object.keys(b),k=0,m=i[a];m>k;k++)d=i[k],n=b[d],o=r[d],d in r?(p=e.call(n),q=e.call(o),q===f&&p===f?h.call(o,n):r[d]=q===g&&p===g?c.call(o,n):n):r[d]=n;return r}}),define("troopjs-core/component/base",["./factory","when","troopjs-utils/merge"],function(a,b,c){var d=Array.prototype,e=d.push,f=d.slice,g="instanceCount",h="configuration",i="context",j="name",k="value",l="phase",m="started",n="finished",o="initialize",p="stop",q="sig",r=0;return a(function(){var a=this;a[g]=++r,a[h]={}},{instanceCount:r,displayName:"core/component/base",configure:function(){return c.apply(this[h],arguments)},signal:function(a){function c(a){return++m>-1&&(l[m]=a),(d=i[j++])?b(d[k].apply(e,g),c):b.resolve(l)}var d,e=this,g=f.call(arguments,1),h=e.constructor.specials,i=q in h&&h[q][a]||[],j=0,l=[],m=-2;return c(g)},start:function(){var a=this,b=a.signal,c=[o];return a[l]=o,e.apply(c,arguments),b.apply(a,c).then(function(e){return c[0]=a[l]="start",b.apply(a,c).then(function(b){return a[l]="started",d.concat(e,b)})})},stop:function(){var a=this,b=a.signal,c=[p];return a[l]=p,e.apply(c,arguments),b.apply(a,c).then(function(e){return c[0]=a[l]="finalize",b.apply(a,c).then(function(b){return a[l]="finalized",d.concat(e,b)})})},task:function(a,c){var d=this,e=b.promise(a).ensure(function(){e[n]=new Date});return e[i]=d,e[m]=new Date,e[j]=c,d.signal("task",e).yield(e)},toString:function(){var a=this;return a.displayName+"@"+a[g]}})}),define("troopjs-core/event/emitter",["../component/base","when","poly/array"],function(a,b){function c(a,c,d){d=d||[];var e=0,f=d[j],g=f-1,k=function(j){var l,m;for(g++>=f&&(d[g]=j);(m=a[e++])&&(l=m[h])&&r.test(l[p]););return m?(m[n]=c)===c&&b(m[i].apply(l,j),k):b.resolve(d)};return k}function d(a,c,d){d=d||{};var f,j=0,k=function(l){var m,o;for(l!==e&&(d[g]=f=l);(o=a[j++])&&(m=o[h])&&r.test(m[p]););return o?(o[n]=c)===c&&b(o[i].apply(m,f),k):b.resolve(f)};return k}var e,f=null,g="memory",h="context",i="callback",j="length",k="head",l="tail",m="next",n="handled",o="handlers",p="phase",q=/^(\w+)(?::(pipeline|sequence))/,r=/^(?:initi|fin)alized?$/,s=Array.prototype.slice;return a.extend(function(){this[o]={}},{displayName:"core/event/emitter",on:function(a,b,c){var d,f,g,j=this,p=arguments,q=j[o],r=2;if((c=p[r++])===e)throw new Error("no callback provided");if(a in q){q=q[a],d={},d[i]=c,d[h]=b,g=l in q?q[l][m]=d:q[k]=d;for(;(c=p[r++])!==e;)g=g[m]=d={},d[i]=c,d[h]=b;q[l]=g}else{for(f=g=d={},d[i]=c,d[h]=b;(c=p[r++])!==e;)g=g[m]=d={},d[i]=c,d[h]=b;q=q[a]={},q[k]=f,q[l]=g,q[n]=0}return j},off:function(a,b){var c,d,e,f,g,n=this,p=arguments,q=p[j],r=n[o];if(!(a in r))return n;if(r=r[a],!(k in r))return n;c=r[k];do{if(!b||!c[h]||c[h]===b){for(g=!1,f=2;q>f;f++)if(c[i]===p[f]){g=!0;break}if(g)continue}d?e=e[m]=c:d=e=c}while(c=c[m]);return d&&e?(r[k]=d,r[l]=e,delete e[m]):(delete r[k],delete r[l]),n},emit:function(a){var e,h,i,j,l,p=this,r=s.call(arguments,1),t=p[o];if((j=q.exec(a))!==f&&(a=j[1],l=j[2]),a in t){if(t=t[a],k in t){h=[],i=0,e=t[k];do h[i++]=e;while(e=e[m]);return"sequence"===l?c(h,++t[n])(r):d(h,++t[n],t)(r)}}else t[a]=t={},t[n]=0;return t[g]=r,b.resolve(r)},reemit:function(a,e,l){var p,r,s,t,u,v,w,x,y=this,z=arguments,A=z[j],B=y[o];if((u=q.exec(a))!==f&&(a=u[1],v=u[2]),a in B&&(B=B[a],g in B)){if(!(k in B))return b.resolve(B[g]);s=[],t=0,p=B[k],r=B[n];do if(!l||!p[h]||p[h]===l){for(x=!1,w=3;A>w;w++)if(p[i]===z[w]){x=!0;break}(!x||p[n]!==r||e)&&(s[t++]=p)}while(p=p[m]);return"sequence"===v?c(s,r)(B[g]):d(s,r)(B[g])}return b.resolve()},peek:function(a){var b,c=this,d=c[o];return a in d&&(d=d[a],g in d&&(b=d[g])),b}})}),define("troopjs-core/pubsub/hub",["../event/emitter"],function(a){var b=a.prototype;return a.create({displayName:"core/pubsub/hub",subscribe:b.on,unsubscribe:b.off,publish:b.emit,republish:b.reemit,spy:b.peek})}),define("troopjs-core/component/gadget",["../event/emitter","when","../pubsub/hub"],function(a,b,c){var d=Array.prototype,e=d.slice,f=d.push,g=c.publish,h=c.republish,i=c.subscribe,j=c.unsubscribe,k="length",l="features",m="type",n="value",o="subscriptions",p=a.prototype,q=p.on,r=p.off,s=p.reemit,t=p.peek;return a.extend(function(){this[o]=[]},{displayName:"core/component/gadget","sig/initialize":function(){var a,b,d,e,f,g,h=this,j=h[o],p=h.constructor.specials.hub;for(d=0,e=p?p[k]:0;e>d;d++)b=p[d],a=j[d]={},a[m]=f=b[m],a[l]=b[l],a[n]=g=b[n],i.call(c,f,h,g)},"sig/start":function(){var a,d,e,f=this,g=arguments,i=f[o],j=[],p=0;for(d=0,e=i[k];e>d;d++)a=i[d],"memory"===a[l]&&(j[p++]=h.call(c,a[m],!1,f,a[n]));return b.all(j).yield(g)},"sig/finalize":function(){var a,b,d,e=this,f=e[o];for(b=0,d=f[k];d>b;b++)a=f[b],j.call(c,a[m],e,a[n])},"sig/task":function(a){return this.publish("task",a)},reemit:function(a,b){var c=this,d=[a,b,c];return f.apply(d,e.call(arguments,2)),s.apply(c,d)},on:function(a){var b=this,c=[a,b];return f.apply(c,e.call(arguments,1)),q.apply(b,c)},off:function(a){var b=this,c=[a,b];return f.apply(c,e.call(arguments,1)),r.apply(b,c)},publish:function(){return g.apply(c,arguments)},republish:function(a,b){var d=this,g=[a,b,d];return f.apply(g,e.call(arguments,2)),h.apply(c,g)},subscribe:function(a){var b=this,d=[a,b];return f.apply(d,e.call(arguments,1)),i.apply(c,d),b},unsubscribe:function(a){var b=this,d=[a,b];return f.apply(d,e.call(arguments,1)),j.apply(c,d),b},spy:function(a){return t.call(c,a)}})}),define("troopjs-browser/loom/config",["module","troopjs-utils/merge"],function(a,b){return b.call({$warp:"$warp",$weft:"$weft",weave:"data-weave",unweave:"data-unweave",woven:"data-woven"},a.config())}),define("troopjs-utils/getargs",[],function(){var a=Array.prototype.push,b=String.prototype.substring,c=/^(?:false|true)$/i,d=/^true$/i,e=/^\d+$/;return function(){var f,g,h,i,j,k,l=this,m=[],n=!1;for(g=h=i=0,f=l.length;f>i;i++)switch(j=l.charAt(i)){case'"':case"'":n===j?(n=!1,a.call(m,b.call(l,g,h))):n=j,g=h=i+1;break;case",":if(n){h=i+1;break}g!==h&&(k=b.call(l,g,h),c.test(k)?k=d.test(k):e.test(k)&&(k=+k),a.call(m,k)),g=h=i+1;break;case" ":case"	":if(n){h=i+1;break}g===h&&(g=h=i+1);break;default:h=i+1}return g!==h&&(k=b.call(l,g,h),c.test(k)?k=d.test(k):e.test(k)&&(k=+k),a.call(m,k)),m}}),define("troopjs-browser/loom/weave",["./config","require","when","jquery","troopjs-utils/getargs","poly/array"],function(a,b,c,d,e){var f,g=null,h=Array.prototype,i=h.map,j=h.push,k="weave",l="woven",m=a.$warp,n=a.$weft,o=a[k],p=a[l],q=/[\s,]+/;return function(){var a=arguments;return c.all(i.call(this,function(h){var i,r,s=d(h),t=s.data(),u=t[m]||(t[m]=[]),v=[],w=s.attr(o)||"",x=/[\s,]*(([\w_\-\/\.]+)(?:\(([^\)]+)\))?)/g,y=function(a){var b=a[n][l];s.attr(p,function(a,c){var d=[b];return c!==f&&j.apply(d,c.split(q)),d.join(" ")})};for(s.removeAttr(o);(r=x.exec(w))!==g;)i=[s,r[2]],i[k]=r[1],r[3]!==f&&j.apply(i,e.call(r[3]).map(function(a){return a in t?t[a]:a})),j.call(v,i);return c.map(v,function(d){var e=c.defer(),f=e.resolver,g=e.promise;return g[k]=d[k],j.call(u,g),c(g,y),b([d[1]],function(b){var c;try{c=b.apply(b,d),c[n]=g,g[l]=c.toString(),f.resolve(c.start.apply(c,a).yield(c))}catch(e){f.reject(e)}},f.reject),g})}))}}),define("troopjs-browser/loom/unweave",["./config","when","jquery","poly/array"],function(a,b,c){var d,e=null,f=Array.prototype,g=f.map,h=f.push,i="weave",j="unweave",k="woven",l="length",m=a.$warp,n=a.$weft,o=a[i],p=a[k],q=a[j],r=/[\s,]+/;return function(){var a=arguments;return b.all(g.call(this,function(f){var g,j,s,t,u,v=c(f),w=v.data(),x=w[m]||(w[m]=[]),y=[],z=v.attr(q),A=[],B=/[\s,]*([\w_\-\/\.]+)(?:@(\d+))?/g,C=function(a){var b=a[n],c=b[k],e=b[i];v.attr(p,function(a,b){var e=[];return b!==d&&h.apply(e,b.split(r).filter(function(a){return a!==c})),0===e[l]?null:e.join(" ")}).attr(o,function(a,b){var c=[e];return b!==d&&h.apply(c,b.split(r)),c.join(" ")})};if(v.removeAttr(q),z===d)h.apply(y,x),x[l]=0;else{for(;(g=B.exec(z))!==e;)h.call(A,"^"+g[1]+"@"+(g[2]||"\\d+")+"$");for(A=new RegExp(A.join("|")),t=u=0,s=x[l];s>t;t++)j=x[t],A.test(j[k])?h.call(y,j):x[u++]=j;x[l]=u}return b.map(y,function(c){var d=c.stop.apply(c,a).yield(c);return b(d,C),d})}))}}),define("troopjs-browser/loom/woven",["./config","when","jquery","poly/array"],function(a,b,c){var d=Array.prototype.map,e="length",f="woven",g=a.$warp;return function(){var a,h=[],i=0;return arguments[e]>0?(a=RegExp(d.call(arguments,function(a){return"^"+a}).join("|"),"m"),c(this).each(function(d,e){var j=(c.data(e,g)||[]).filter(function(b){return a.test(b[f])});h[i++]=b.all(j)})):c(this).each(function(a,d){h[i++]=b.all(c.data(d,g))}),b.all(h)}}),define("troopjs-browser/loom/plugin",["jquery","when","./config","./weave","./unweave","./woven","troopjs-utils/getargs","poly/array"],function(a,b,c,d,e,f,g){function h(b){return a(b).attr(q)!==j}function i(b){return a(b).attr(r)!==j}var j,k=a.fn,l=a.expr,m=l.createPseudo,n="weave",o="unweave",p="woven",q=c[n],r=c[p],s=/[\s,]+/;l[":"][n]=m?m(function(b){return b===j?h:(b=new RegExp(g.call(b).map(function(a){return"^"+a}).join("|"),"m"),function(c){var d=a(c).attr(q);return d!==j&&b.test(d.replace(s,"\n"))})}):function(b,c,d){var e=a(b).attr(q);return e===j?!1:d===j?!0:new RegExp(g.call(d[3]).map(function(a){return"^"+a}).join("|"),"m").test(e.replace(s,"\n"))},l[":"][p]=m?m(function(b){return b===j?i:(b=new RegExp(g.call(b).map(function(a){return"^"+a}).join("|"),"m"),function(c){var d=a(c).attr(r);return d!==j&&b.test(d.replace(s,"\n"))})}):function(b,c,d){var e=a(b).attr(r);return e===j?!1:d===j?!0:new RegExp(g.call(d[3]).map(function(a){return"^"+a}).join("|"),"m").test(e.replace(s,"\n"))},k[n]=d,k[o]=e,k[p]=f}),define("troopjs-jquery/destroy",["jquery"],function(a){var b="destroy";a.event.special[b]={noBubble:!0,trigger:function(){return!1},remove:function(b){var c=this;b&&b.handler.call(c,a.Event({type:b.type,data:b.data,namespace:b.namespace,target:c}))}}}),define("troopjs-browser/component/widget",["troopjs-core/component/gadget","jquery","../loom/config","../loom/weave","../loom/unweave","../loom/plugin","troopjs-jquery/destroy"],function(a,b,c,d,e){function f(a,b){return function(){return b.apply(a,arguments)}}function g(a){function b(b){var c=this,d=i.call(arguments,1);return a.call(c[k],typeof b===j?b.apply(c,d):b),c.weave()}return b}var h,i=Array.prototype.slice,j="function",k="$element",l="$handlers",m="features",n="type",o="value",p="proxy",q="guid",r="length",s="["+c.weave+"]",t="["+c.unweave+"]";return a.extend(function(a,b){var c=this;if(a===h)throw new Error("No $element provided");c[k]=a,c[l]=[],b!==h&&(c.displayName=b)},{displayName:"browser/component/widget","sig/initialize":function(){var a,b,c,d,e,g,h,i,j=this,s=j[k],t=j[l],u=j.constructor.specials.dom;for(h=0,i=u?u[r]:0;i>h;h++)b=u[h],a=t[h]={},a[n]=c=b[n],a[m]=d=b[m],a[o]=e=b[o],a[p]=g=f(j,e),s.on(c,d,j,g),e[q]=g[q]},"sig/finalize":function(){var a,b,c,d=this,e=d[k],f=d[l];for(b=0,c=f[r];c>b;b++)a=f[b],e.off(a[n],a[m],a[p])},"sig/task":function(a){this[k].trigger("task",[a])},weave:function(){return this.publish("weave",this),d.apply(this[k].find(s),arguments)},unweave:function(){return this.publish("unweave",this),e.apply(this[k].find(t).addBack(),arguments)},"dom/destroy":function(){this.unweave()},before:g(b.fn.before),after:g(b.fn.after),html:g(b.fn.html),text:g(b.fn.text),append:g(b.fn.append),prepend:g(b.fn.prepend)})}),define("troopjs-core/component/service",["./gadget"],function(a){return a.extend({displayName:"core/component/service","sig/initialize":function(){var a=this;return a.publish("registry/add",a)},"sig/finalize":function(){var a=this;return a.publish("registry/remove",a)}})}),define("troopjs-core/registry/service",["../component/service","poly/object","poly/array"],function(a){var b="services";return a.extend(function(){var a=this;a[b]={},a.add(a)},{displayName:"core/registry/service",add:function(a){this[b][a.toString()]=a},remove:function(a){delete this[b][a.toString()]},get:function(a){var c=new RegExp(a),d=this[b];return Object.keys(d).filter(function(a){return c.test(a)}).map(function(a){return d[a]})},"hub/registry/add":function(a){return this.add(a)},"hub/registry/remove":function(a){return this.remove(a)},"hub/registry/get":function(a){return this.get(a)}})}),define("troopjs-browser/application/widget",["module","../component/widget","when","troopjs-core/registry/service","poly/array"],function(a,b,c,d){function e(a,b){var d=this,e=d.signal,f=[a],g=d[i].get(),j=0;h.apply(f,b);var k=function(){var a;return(a=g[j++])?c(e.apply(a,f),k):c.resolve(b)};return k()}var f=Array.prototype,g=f.slice,h=f.push,i="registry";return b.extend(function(){var a=this[i]=d();g.call(arguments,2).forEach(function(b){a.add(b)})},{displayName:"browser/application/widget","sig/initialize":function(){return e.call(this,"initialize",arguments)},"sig/start":function(){var a=this,b=a.weave,c=arguments;return e.call(a,"start",c).then(function(){return b.apply(a,c)})},"sig/stop":function(){var a=this,b=a.unweave,c=arguments;return b.apply(a,c).then(function(){return e.call(a,"stop",c)})},"sig/finalize":function(){return e.call(this,"finalize",arguments)}})}),define("troopjs-core/net/uri",["../component/factory"],function(a){function b(a){var c,e,f={},g=d,h=/(?:&|^)([^&=]*)=?([^&]*)/g;if(f.toString=b.toString,i.call(a)===j)for(g in a)f[g]=a[g];else for(;(c=h.exec(a))!==d;)g=c[1],g in f?(e=f[g],i.call(e)===k?e[e.length]=c[2]:f[g]=[e,c[2]]):f[g]=c[2];return f}function c(a){var b=[];return b.toString=c.toString,g.apply(b,i.call(a)===k?a:h.call(a,"/")),b}var d=null,e=Array.prototype,f=Object.prototype,g=e.push,h=String.prototype.split,i=f.toString,j=i.call(f),k=i.call(e),l=i.call(Function.prototype),m=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:([^?#]*)(?:\?([^#]*))?(?:#(.*))?)/,n="protocol",o="authority",p="path",q="query",r="anchor",s=["source",n,o,"userInfo","user","password","host","port",p,q,r];b.toString=function(){var a,b,c,d,e=this,f=[],g=0;for(a in e)i.call(e[a])!==l&&(f[g++]=a);for(f.sort();g--;)if(a=f[g],b=e[a],i.call(b)===k){for(c=b.slice(0),c.sort(),d=c.length;d--;)b=c[d],c[d]=""===b?a:a+"="+b;f[g]=c.join("&")}else f[g]=""===b?a:a+"="+b;return f.join("&")},c.toString=function(){return this.join("/")};var t=a(function(a){var e,f,g,h=this;if((f=m.exec(a))!==d)for(g=f.length;g--;)e=f[g],e&&(h[s[g]]=e);q in h&&(h[q]=b(h[q])),p in h&&(h[p]=c(h[p]))},{displayName:"browser/route/uri",toString:function(){var a,b,c=this,d=[n,"://",o,p,"?",q,"#",r];n in c||(d[0]=d[1]=""),o in c||(d[2]=""),p in c||(d[3]=""),q in c||(d[4]=d[5]=""),r in c||(d[6]=d[7]=""),a=d.length;for(;a--;)b=d[a],b in c&&(d[a]=c[b]);return d.join("")}});return t.Path=c,t.Query=b,t}),define("troopjs-jquery/hashchange",["jquery"],function(a){function b(a){var b=g.exec(a.location.href);return b&&b[1]?decodeURIComponent(b[1]):""}function c(a){var b,c=this;c.element=b=a.createElement("iframe"),b.src="about:blank",b.style.display="none"}var d="interval",e="hashchange",f="on"+e,g=/#(.*)$/,h=/\?/,i=!1;c.prototype={getElement:function(){return this.element},getHash:function(){return this.element.contentWindow.frameHash},update:function(a){var b=this,c=b.element.contentWindow.document;b.getHash()!==a&&(c.open(),c.write("<html><head><title>' + document.title + '</title><script type='text/javascript'>var frameHash='"+a+"';</script></head><body>&nbsp;</body></html>"),c.close())}},a.event.special[e]={setup:function(){var g=this;if(f in g)return!1;if(!a.isWindow(g))throw new Error("Unable to bind 'hashchange' to a non-window object");var j=a(g),k=b(g),l=g.location;j.data(d,g.setInterval(i?function(){var a=g.document,d="file:"===l.protocol,f=new c(a);return a.body.appendChild(f.getElement()),f.update(k),function(){var a,c=k,i=b(g),m=f.getHash();m!==k&&m!==i?(a=decodeURIComponent(m),k!==a&&(k=a,f.update(k),j.trigger(e,[a,c])),l.hash="#"+encodeURI(d?m.replace(h,"%3F"):m)):i!==k&&(a=decodeURIComponent(i),k!==a&&(k=a,j.trigger(e,[a,c])))}}():function(){var a,c=k,d=b(g);d!==k&&(a=decodeURIComponent(d),k!==a&&(k=a,j.trigger(e,[a,c])))},25))},teardown:function(){var b=this;return f in b?!1:(b.clearInterval(a.data(b,d)),void 0)}}}),define("troopjs-browser/hash/widget",["../component/widget","troopjs-core/net/uri","troopjs-jquery/hashchange"],function(a,b){var c="$element",d="_hash",e=/^#/;return a.extend({displayName:"browser/hash/widget","sig/start":function(){this[c].trigger("hashchange")},"dom/hashchange":function(a){var f=this,g=f[c],h=b(g.get(0).location.hash.replace(e,"")),i=h.toString();i!==f[d]?(f[d]=i,g.trigger("urichange",[h])):a.stopImmediatePropagation()},"dom/hashset":function(a,b,e){var f=this,g=b.toString();e===!0&&(f[d]=g),f[c].get(0).location.hash=g}})}),define("troopjs-browser/mvc/route/widget",["../../component/widget"],function(a){function b(a){this[c].trigger("hashset",[a])}var c="$element",d="displayName",e="/set";return a.extend({displayName:"browser/mvc/route/widget","sig/initialize":function(){var a=this;a.subscribe(a[d]+e,b)},"sig/finalize":function(){var a=this;a.unsubscribe(a[d]+e,b)},"dom/urichange":function(a,b){var c=this;c.publish(c[d],b,a)}})}),define("troopjs/version",[],function(){return"3.0.0-1"}),define(["troopjs/version"],function(a){return a});